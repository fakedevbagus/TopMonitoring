<Window x:Class="TopMonitoring.App.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="TopMonitoring Settings" Height="640" Width="440"
        MinHeight="520" MinWidth="380"
        Background="{DynamicResource BackgroundBrush}"
        Foreground="{DynamicResource ForegroundBrush}"
        WindowStartupLocation="CenterOwner" ResizeMode="NoResize">

    <Window.Resources>

        <!-- ========= TEXT ========= -->
        <Style TargetType="TextBlock">
            <Setter Property="Foreground" Value="{DynamicResource ForegroundBrush}"/>
        </Style>

        <!-- ========= CHECKBOX ========= -->
        <Style TargetType="CheckBox">
            <Setter Property="Foreground" Value="{DynamicResource ForegroundBrush}"/>
        </Style>

        <!-- ========= TEXTBOX ========= -->
        <Style TargetType="TextBox">
            <Setter Property="Background" Value="{DynamicResource ControlBackgroundBrush}"/>
            <Setter Property="Foreground" Value="{DynamicResource ForegroundBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
            <Setter Property="SelectionBrush" Value="{DynamicResource AccentBrush}"/>
            <Setter Property="CaretBrush" Value="{DynamicResource ForegroundBrush}"/>
        </Style>

        <!-- ========= COMBOBOX ========= -->
        <Style TargetType="ComboBox">
            <Setter Property="Background" Value="{DynamicResource ControlBackgroundBrush}"/>
            <Setter Property="Foreground" Value="{DynamicResource ForegroundBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
        </Style>

    <!-- ComboBoxItem -->
    <Style TargetType="ComboBoxItem">
        <Setter Property="Foreground" Value="{DynamicResource ForegroundBrush}"/>
        <Setter Property="Background" Value="{DynamicResource ControlBackgroundBrush}"/>
        <Style.Triggers>
            <Trigger Property="IsSelected" Value="True">
                <Setter Property="Background" Value="{DynamicResource AccentBrush}"/>
                <Setter Property="Foreground" Value="{DynamicResource ComboBoxItemSelectedForeground}"/>
            </Trigger>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background" Value="{DynamicResource ComboBoxItemHoverBrush}"/>
            </Trigger>
        </Style.Triggers>
    </Style>

    <!-- ListBox -->
    <Style TargetType="ListBox">
        <Setter Property="Background" Value="{DynamicResource ControlBackgroundBrush}"/>
        <Setter Property="Foreground" Value="{DynamicResource ForegroundBrush}"/>
        <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
    </Style>

    <Style TargetType="ListBoxItem">
        <Setter Property="Foreground" Value="{DynamicResource ForegroundBrush}"/>
        <Setter Property="Background" Value="Transparent"/>
    </Style>

    <!-- ========= BUTTON ========= -->
        <Style TargetType="Button">
            <Setter Property="Background" Value="{DynamicResource ControlBackgroundBrush}"/>
            <Setter Property="Foreground" Value="{DynamicResource ForegroundBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
            <Setter Property="Padding" Value="10,4"/>
        </Style>

        <!-- ========= SEPARATOR ========= -->
        <Style TargetType="Separator">
            <Setter Property="Background" Value="{DynamicResource SeparatorBrush}"/>
        </Style>

    </Window.Resources>
    <Grid Background="{DynamicResource BackgroundBrush}">

    <Grid Margin="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>


        <TextBlock Text="Settings" FontSize="18" FontWeight="SemiBold"/>

        <ScrollViewer Grid.Row="1" Margin="0,10,0,0" Background="{DynamicResource BackgroundBrush}">
            <StackPanel>
                <TextBlock Text="Opacity" FontWeight="SemiBold"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <Slider x:Name="OpacitySlider" Minimum="0.4" Maximum="1.0" TickFrequency="0.05" IsSnapToTickEnabled="True"/>
                    <TextBlock x:Name="OpacityPct" Grid.Column="1" Margin="10,0,0,0" VerticalAlignment="Center" Text="92%"/>
                </Grid>
                <TextBlock Text="Some sensors require admin privileges" FontSize="12" Foreground="{DynamicResource HintBrush}" Margin="0,2,0,0"/>
                <TextBlock Text="Need restart Windows Explorer on taskbar when exit app" FontSize="12" Foreground="{DynamicResource HintBrush}" Margin="0,2,0,0"/>
                <Separator Margin="0,10,0,10"/>

                <TextBlock Text="Theme" FontWeight="SemiBold" Margin="0,0,0,6"/>
                <CheckBox x:Name="DarkModeCheck" Content="Dark Mode" Margin="0,0,0,10"
                         Checked="DarkMode_Changed" Unchecked="DarkMode_Changed"/>

<TextBlock Text="Background Color" FontWeight="SemiBold" Margin="0,0,0,6" HorizontalAlignment="Center"/>
                <Grid Margin="0,6,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <TextBox x:Name="HexText"/>
                    <Button x:Name="PickColorBtn" Grid.Column="1" Content="Pick" Width="50" Margin="5,0,0,0" Click="PickColor_Click"/>
                </Grid>
<Separator Margin="0,10,0,10"/>

                <TextBlock Text="Overlay Behavior" FontWeight="SemiBold" Margin="0,0,0,6"/>
                <CheckBox x:Name="ClickThroughCheck" Content="Click-through (mouse passthrough)" Margin="0,0,0,8"/>

                <TextBlock Text="Target Monitor" FontWeight="SemiBold" Margin="0,0,0,6"/>
                <ComboBox x:Name="TargetMonitorCombo" Margin="0,0,0,8">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding DisplayName}"/>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>

                <TextBlock Text="UI Scale" FontWeight="SemiBold" Margin="0,0,0,6"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <Slider x:Name="UIScaleSlider" Minimum="0.75" Maximum="1.75" TickFrequency="0.05" IsSnapToTickEnabled="True"/>
                    <TextBlock x:Name="UIScalePct" Grid.Column="1" Margin="10,0,0,0" VerticalAlignment="Center" Text="100%"/>
                </Grid>

                <TextBlock Text="Update Interval (ms)" FontWeight="SemiBold" Margin="0,8,0,6"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <Slider x:Name="UpdateIntervalSlider" Minimum="200" Maximum="2000" TickFrequency="50" IsSnapToTickEnabled="True"/>
                    <TextBlock x:Name="UpdateIntervalText" Grid.Column="1" Margin="10,0,0,0" VerticalAlignment="Center" Text="250"/>
                </Grid>

                <TextBlock Text="Active Preset" FontWeight="SemiBold" Margin="0,8,0,6"/>
                <ComboBox x:Name="PresetCombo" Margin="0,0,0,8">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding Name}"/>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>

                <Separator Margin="0,10,0,10"/>

                <TextBlock Text="Alert Thresholds" FontWeight="SemiBold" Margin="0,0,0,6"/>
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Text="CPU" Grid.Row="0" Grid.Column="0" Margin="0,2,10,2" VerticalAlignment="Center"/>
                    <Slider x:Name="CpuAlertSlider" Grid.Row="0" Grid.Column="1" Minimum="50" Maximum="100" TickFrequency="1" IsSnapToTickEnabled="True"/>
                    <TextBlock x:Name="CpuAlertPct" Grid.Row="0" Grid.Column="2" Margin="10,0,0,0" VerticalAlignment="Center" Text="90%"/>

                    <TextBlock Text="RAM" Grid.Row="1" Grid.Column="0" Margin="0,2,10,2" VerticalAlignment="Center"/>
                    <Slider x:Name="RamAlertSlider" Grid.Row="1" Grid.Column="1" Minimum="50" Maximum="100" TickFrequency="1" IsSnapToTickEnabled="True"/>
                    <TextBlock x:Name="RamAlertPct" Grid.Row="1" Grid.Column="2" Margin="10,0,0,0" VerticalAlignment="Center" Text="90%"/>

                    <TextBlock Text="GPU" Grid.Row="2" Grid.Column="0" Margin="0,2,10,2" VerticalAlignment="Center"/>
                    <Slider x:Name="GpuAlertSlider" Grid.Row="2" Grid.Column="1" Minimum="50" Maximum="100" TickFrequency="1" IsSnapToTickEnabled="True"/>
                    <TextBlock x:Name="GpuAlertPct" Grid.Row="2" Grid.Column="2" Margin="10,0,0,0" VerticalAlignment="Center" Text="90%"/>
                </Grid>
                <CheckBox x:Name="AlertBlinkCheck" Content="Blink when threshold exceeded" Margin="0,6,0,0"/>

                <Separator Margin="0,10,0,10"/>

                <TextBlock Text="Hotkeys" FontWeight="SemiBold" Margin="0,0,0,6"/>
                <StackPanel Margin="0,0,0,8">
                    <TextBlock Text="Toggle Overlay Visibility" FontSize="12"/>
                    <TextBox x:Name="HotkeyToggleVisibilityText" Margin="0,2,0,6"/>

                    <TextBlock Text="Toggle Click-through" FontSize="12"/>
                    <TextBox x:Name="HotkeyToggleClickThroughText" Margin="0,2,0,6"/>

                    <TextBlock Text="Cycle Presets" FontSize="12"/>
                    <TextBox x:Name="HotkeyCyclePresetText" Margin="0,2,0,0"/>
                    <TextBlock Text="Format: Ctrl+Alt+O" FontSize="11" Foreground="{DynamicResource HintBrush}" Margin="0,4,0,0"/>
                </StackPanel>

                <Separator Margin="0,10,0,10"/>

                <TextBlock Text="Settings Export / Import" FontWeight="SemiBold" Margin="0,0,0,6"/>
                <StackPanel Orientation="Horizontal">
                    <Button x:Name="ExportBtn" Content="Export Settings" Width="140" Margin="0,0,8,0" Click="Export_Click"/>
                    <Button x:Name="ImportBtn" Content="Import Settings" Width="140" Click="Import_Click"/>
                </StackPanel>

                <Separator Margin="0,10,0,10"/>

                <TextBlock Text="Metric Labels (prefix)" FontWeight="SemiBold" Margin="0,0,0,6"/>
                <Grid x:Name="LabelsGrid" Margin="0,0,0,8">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <CheckBox Foreground="{DynamicResource FgBrush}" x:Name="CbFps" Grid.Row="0" Grid.Column="0" Content="FPS" Margin="0,2,10,2"/>
                    <TextBox x:Name="LblFps" Grid.Row="0" Grid.Column="1" Margin="0,2"/>

                    <CheckBox Foreground="{DynamicResource FgBrush}" x:Name="CbCpuLoad" Grid.Row="1" Grid.Column="0" Content="CPU Load" Margin="0,2,10,2"/>
                    <TextBox x:Name="LblCpuLoad" Grid.Row="1" Grid.Column="1" Margin="0,2"/>

                    <CheckBox Foreground="{DynamicResource FgBrush}" x:Name="CbCpuTemp" Grid.Row="2" Grid.Column="0" Content="CPU Temp" Margin="0,2,10,2"/>
                    <TextBox x:Name="LblCpuTemp" Grid.Row="2" Grid.Column="1" Margin="0,2"/>

                    <CheckBox Foreground="{DynamicResource FgBrush}" x:Name="CbCpuPower" Grid.Row="3" Grid.Column="0" Content="CPU Power" Margin="0,2,10,2"/>
                    <TextBox x:Name="LblCpuPower" Grid.Row="3" Grid.Column="1" Margin="0,2"/>

                    <CheckBox Foreground="{DynamicResource FgBrush}" x:Name="CbGpuLoad" Grid.Row="4" Grid.Column="0" Content="GPU Load" Margin="0,2,10,2"/>
                    <TextBox x:Name="LblGpuLoad" Grid.Row="4" Grid.Column="1" Margin="0,2"/>

                    <CheckBox Foreground="{DynamicResource FgBrush}" x:Name="CbGpuTemp" Grid.Row="5" Grid.Column="0" Content="GPU Temp" Margin="0,2,10,2"/>
                    <TextBox x:Name="LblGpuTemp" Grid.Row="5" Grid.Column="1" Margin="0,2"/>

                    <CheckBox Foreground="{DynamicResource FgBrush}" x:Name="CbGpuPower" Grid.Row="6" Grid.Column="0" Content="GPU Power" Margin="0,2,10,2"/>
                    <TextBox x:Name="LblGpuPower" Grid.Row="6" Grid.Column="1" Margin="0,2"/>

                    <CheckBox Foreground="{DynamicResource FgBrush}" x:Name="CbVramUsed" Grid.Row="7" Grid.Column="0" Content="VRAM Used" Margin="0,2,10,2"/>
                    <TextBox x:Name="LblVramUsed" Grid.Row="7" Grid.Column="1" Margin="0,2"/>

                    <CheckBox Foreground="{DynamicResource FgBrush}" x:Name="CbRamUsed" Grid.Row="8" Grid.Column="0" Content="RAM Used" Margin="0,2,10,2"/>
                    <TextBox x:Name="LblRamUsed" Grid.Row="8" Grid.Column="1" Margin="0,2"/>

                    <CheckBox Foreground="{DynamicResource FgBrush}" x:Name="CbRamFree" Grid.Row="9" Grid.Column="0" Content="RAM Free" Margin="0,2,10,2"/>
                    <TextBox x:Name="LblRamFree" Grid.Row="9" Grid.Column="1" Margin="0,2"/>

                    <CheckBox Foreground="{DynamicResource FgBrush}" x:Name="CbDriveC" Grid.Row="10" Grid.Column="0" Content="Drive C" Margin="0,2,10,2"/>
                    <TextBox x:Name="LblDriveC" Grid.Row="10" Grid.Column="1" Margin="0,2"/>

                    <CheckBox Foreground="{DynamicResource FgBrush}" x:Name="CbDriveD" Grid.Row="11" Grid.Column="0" Content="Drive D" Margin="0,2,10,2"/>
                    <TextBox x:Name="LblDriveD" Grid.Row="11" Grid.Column="1" Margin="0,2"/>

                    <CheckBox Foreground="{DynamicResource FgBrush}" x:Name="CbDriveE" Grid.Row="12" Grid.Column="0" Content="Drive E" Margin="0,2,10,2"/>
                    <TextBox x:Name="LblDriveE" Grid.Row="12" Grid.Column="1" Margin="0,2"/>

                    <CheckBox Foreground="{DynamicResource FgBrush}" x:Name="CbDriveF" Grid.Row="13" Grid.Column="0" Content="Drive F" Margin="0,2,10,2"/>
                    <TextBox x:Name="LblDriveF" Grid.Row="13" Grid.Column="1" Margin="0,2"/>

                    <CheckBox Foreground="{DynamicResource FgBrush}" x:Name="CbDriveG" Grid.Row="14" Grid.Column="0" Content="Drive G" Margin="0,2,10,2"/>
                    <TextBox x:Name="LblDriveG" Grid.Row="14" Grid.Column="1" Margin="0,2"/>

                    <CheckBox Foreground="{DynamicResource FgBrush}" x:Name="CbInternet" Grid.Row="15" Grid.Column="0" Content="Internet" Margin="0,2,10,2"/>
                    <TextBox x:Name="LblInternet" Grid.Row="15" Grid.Column="1" Margin="0,2"/>
</Grid>

                <Separator Margin="0,10,0,10"/>

                <TextBlock Text="Metric Order" FontWeight="SemiBold" Margin="0,0,0,6"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <ListBox x:Name="OrderList" Height="250"/>
                    <StackPanel Grid.Column="1" Margin="10,0,0,0">
                        <Button x:Name="UpBtn" Content="Up" Width="70" Margin="0,0,0,6" Click="Up_Click"/>
                        <Button x:Name="DownBtn" Content="Down" Width="70" Click="Down_Click"/>
                    </StackPanel>
                </Grid>
            </StackPanel>
        </ScrollViewer>

        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button Content="Reset" Width="90" Margin="0,0,8,0" Click="Reset_Click"/>
            <Button Content="Cancel" Width="90" Margin="0,0,8,0" Click="Cancel_Click"/>
            <Button Content="Exit App" Width="90" Click="Exit_Click"/>
        </StackPanel>
    </Grid>
    </Grid>
</Window>
